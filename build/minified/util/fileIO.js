var $jscomp$this=this,writeAtomically=require("write-json-file");exports.stringify=function(a,b){return(void 0===b?0:b)?JSON.stringify(a):JSON.stringify(a,null,"\t")};exports.createReadStream=function(a){return internal.fs.createReadStream(a)};exports.createWriteStream=function(a){return internal.fs.createWriteStream(a,{flags:"w"})};exports.readParsed=function(a){return JSON.parse(internal.fs.readFileSync(a,"utf8"))};exports.parse=function(a){return JSON.parse(a)};
exports.read=function(a){return internal.fs.readFileSync(a,"utf8")};exports.exist=function(a){return internal.fs.existsSync(a)};
exports.readDir=function(a,b){b=void 0===b?!1:b;var c=[];if(!internal.fs.existsSync(a))return c;var d=internal.fs.readdirSync(a),e;for(e in d){var f=internal.path.join(a,d[e]);$jscomp$this.lstatSync(f).isDirectory()?b?(f=$jscomp$this.readDir(f,!0).map(function(a){return internal.path.join(d[e],a)}),0<f.length&&(c=c.concat(f))):c.push(d[e]):c.push(d[e])}return c.map(function(a){return a.replace(/\\/g,"/").replace(/\/\//g,"/")})};exports.statSync=function(a){return internal.fs.statSync(a)};
exports.lstatSync=function(a){return internal.fs.lstatSync(a)};exports.unlink=function(a){return internal.fs.unlinkSync(a)};exports.rmDir=function(a){return internal.fs.rmdirSync(a)};exports.mkDir=function(a){return internal.fs.mkdirSync(a)};function createDir(a){a=a.substr(0,a.lastIndexOf("/"));internal.fs.existsSync(a)||internal.fs.mkdirSync(a,{recursive:!0})}
function _getCaller(){try{var a=Error(),b;Error.prepareStackTrace=function(a,b){return b};for(b=a.stack.shift().getFileName();a.stack.length;){var c=a.stack.shift().getFileName();if(b!==c)return c}}catch(d){}}exports.write=function(a,b,c,d){c=void 0===c?!1:c;d=void 0===d?!0:d;-1!=a.indexOf("/")&&createDir(a);c?d?writeAtomically.sync(a,b):internal.fs.writeFileSync(a,JSON.stringify(b)):d?writeAtomically.sync(a,b,"utf8"):internal.fs.writeFileSync(a,JSON.stringify(b,null,"\t"),"utf8")};