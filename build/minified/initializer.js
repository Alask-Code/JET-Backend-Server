var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
var Initializer=function(){this.initializeCore();this.initializeExceptions();this.initializeClasses();this.initializeItemRoute();require("./server/watermark.js").run();global.consoleResponse=require("./server/console.js").consoleResponse;server.start()};
Initializer.prototype.initializeCore=function(){global.internal={};global.core={};global.db={};global.res={};global._database={};global.startTimestamp=(new Date).getTime();global.internal.fs=require("fs");global.internal.path=require("path");global.internal.util=require("util");global.internal.resolve=global.internal.path.resolve;global.internal.zlib=require("zlib");global.internal.https=require("https");global.internal.selfsigned=require("selfsigned");global.internal.psList=require("ps-list");global.internal.process=
require("process");global.executedDir=internal.process.cwd();global.fileIO=require("./util/fileIO.js");global.utility=require("./util/utility.js");global.logger=require("./util/logger.js").logger;global.serverConfig=fileIO.readParsed("user/configs/server.json");global.mods={toLoad:{},config:{}};global.mods_f=require("./server/mods.js");global.mods_f.load();global.router=require("./server/router.js").router;global.events=require("./server/events.js");global.server=require("./server/server.js").server};
Initializer.prototype.initializeExceptions=function(){internal.process.on("uncaughtException",function(a,b){logger.logError("[Server]:"+server.getVersion());logger.logError("[Trace]:");logger.logData(a)})};
Initializer.prototype.initializeItemRoute=function(){logger.logSuccess("Create: Item Action Callbacks");item_f.handler.updateRouteStruct();var a="",b;for(b in item_f.handler.routeStructure)a+=b+", ",item_f.handler.addRoute(b,item_f.handler.routeStructure[b]);logger.logInfo("[Actions] "+a.slice(0,-2))};
Initializer.prototype.initializeClasses=function(){logger.logSuccess("Create: Classes as global variables");for(var a="",b=$jscomp.makeIterator("helper.js account.js bots.js bundles.js customization.js dialogue.js health.js hideout.js home.js insurance.js profile.js item.js keepalive.js locale.js location.js match.js move.js note.js notifier.js offraid.js preset.js quest.js ragfair.js repair.js response.js savehandler.js status.js trade.js trader.js weaponbuilds.js weather.js wishlist.js".split(" ")),c=
b.next();!c.done;c=b.next()){c=c.value;a+=c.replace(".js",", ");var d=c.replace(".js","").toLowerCase()+"_f";global[d]=require(executedDir+"/src/classes/"+c)}logger.logInfo("[Modules] "+a.slice(0,-2))};module.exports.initializer=new Initializer;